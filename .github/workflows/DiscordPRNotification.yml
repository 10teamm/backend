name: Discord PR ì•Œë¦¼

on:
  pull_request:
    types: [opened, reopened] # PRì´ ì—´ë¦¬ê±°ë‚˜, ë‹¤ì‹œ ì—´ë¦¬ê±°ë‚˜, ì—…ë°ì´íŠ¸ë  ë•Œ
    branches:
      - main
      - develop

jobs:
  notify-discord:
    runs-on: ubuntu-latest

    steps:
      - name: Discord ì•Œë¦¼ ì „ì†¡
        uses: rjstone/discord-webhook-notify@v1
        with:
          webhookUrl: ${{ secrets.DISCORD_WEBHOOK_URL }}
          
          embeds: |
            [
              {
                "title": "ğŸ“¢ ìƒˆë¡œìš´ Pull Request ë°œìƒ!",
                "description": "**ë ˆí¬ì§€í† ë¦¬:** `${{ github.repository }}`\n**ë¸Œëœì¹˜:** `${{ github.base_ref }}`\n\n**PR ì œëª©:** `${{ github.event.pull_request.title }}`",
                "url": "${{ github.event.pull_request.html_url }}",
                "color": 3447003,
                "author": {
                  "name": "${{ github.event.pull_request.user.login }}",
                  "icon_url": "${{ github.event.pull_request.user.avatar_url }}"
                },
                "fields": [
                  {
                    "name": "ì‘ì„±ì",
                    "value": "${{ github.event.pull_request.user.login }}",
                    "inline": true
                  },
                  {
                    "name": "ë¸Œëœì¹˜",
                    "value": "${{ github.head_ref }}",
                    "inline": true
                  },
                  {
                    "name": "ìƒíƒœ",
                    "value": "ìƒˆë¡œìš´ PRì´ ì—´ë¦¬ê±°ë‚˜ ${{ github.base_ref }} ë¸Œëœì¹˜ì— ì—…ë°ì´íŠ¸ ëì–´ìš”",
                    "inline": false
                  }
                ],
                "timestamp": "${{ github.event.pull_request.created_at }}",
                "footer": {
                  "text": "GitHub Actions",
                  "icon_url": "https://avatars.githubusercontent.com/u/44036562?s=200&v=4" # GitHub Actions ë¡œê³ 
                }
              }
            ]